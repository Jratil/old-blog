# 接口



### 统一返回类型

> 参数：
>
> code：返回的状态码，0：成功，其他表示各种错误，如：2 为密码错误
>
> message：返回的信息，如：成功，如果错误，则会返回相应的错误信息，如：密码错误
>
> data：返回的数据，如果没有数据时，则不会返回这个参数，如：登录成功后会返回用户信息
>
> > 示例
> >
> > ```json
> > // 登录失败
> > {
> > 	"code": 2,
> > 	"message": "登录失败，密码错误"
> > }
> > ```
> >
> > ```json
> > // 登录成功
> > {
> > 	"code": 0,
> > 	"message": "成功"，
> > 	"data"： {
> > 		"createTime": 1565761551,
> >         "id": "15626680",
> >         "name": "猪",
> >         "account": "123321",
> >         "gender": 0,
> >         "birthday": "2019-08-14T05:45:51.000+0000",
> >         "avatar": "null"
> >     }
> > }
> > ```



### 登录注册



**登录（POST）：120.79.172.32:8866/author/login**

> 参数：
>
> account：账号
>
> password：密码
>
> > 示例
> >
>  > ```json
>  > {
>  > 	"account":"123@qq.com",
>  > 	"password":"123123"
> >  }
> >  ```



__注册（POST）：120.79.172.32:8866/author/register__

> 参数：authorForm
>
> > 示例
> >
> >```json
> >{
> >	"name" : "小猪头",
> >	"account" : "123@qq.com",
> > 	"password" : "123123",
> > 	"verifyCode" : "1120"
> >}
> > ```



__登出（GET/POST）：120.79.172.32:8866/author/logout__
>
>  参数：无



__修改个人信息吧（POST）：120.79.172.32:8866/author/update__
>
>  参数：authorDTO：我也不知道



__忘记密码：120.79.172.32:8866/author/forget_password__
>
>  参数：authorForm
> 
> > 示例
> >
> > ```json
> > {
> > 	"account" : "123@qq.com",
> > 	"password" : "123123",
> > 	"verifyCode" : "1120"
> > }
> > ```



---



### 文章



__主页吧（我也不清楚GET/POST）120.79.172.32:8866/article/main_page__

> 参数：无



__写文章（POST）：120.79.172.32:8866/article/write__

> 参数：articleDTO
>
> > 示例
> >
> > ```json
> >{
> > 	"articleTitle": "测试标题", //文章的标题
> > 	"articleContent": "测试内容", //文章的内容
> > 	"categoryId": "1" //文章所属的类目
> > }
> > ```



__删除文章（DELETE）：120.79.172.32:8866/article/del__

> 参数：articleId 文章id
>
> > 示例
> >
> > ```json
> >{
> > 	"articleId":"111111"
> > }
> > ```



__查找文章（GET）：120.79.172.32:8866/article/find__

> 参数：articleId 文章id
>
> > 示例
> >
> > ```json
> >{
> > 	"articleId":"111111"
> > }
> > ```



__分页查找（GET）：120.79.172.32:8866/article/find/{page}/{count}__

>参数：
>
>page：第几页，默认：1
>
>count：每页的数量，可不填。若不填，默认为10，url为：120.79.172.32:8866/article/find/1



__点赞（POST）：120.79.172.32:8866/article/like/add__

> 参数：articleId
>
> > 示例
> >
> > ```json
> > {
> > 	"articleId":"111111"
> > }
> > ```



__取消点赞（POST）：120.79.172.32:8866/article/like/reduce__

> 参数：articleId （和点赞一样）



---



### 邮件



__发送验证码（POST）：120.79.172.32:8866/api/email/send_code__

> 参数：email
>
> > 示例
> >
> > ```json
> > {
> > 	"email": "123@qq.com"
> > }
> > ```



---



### 类目



__新增类目（POST）：120.79.172.32:8866/category/add__

> 参数：categoryName
>
> 示例懒得写了，好累



__修改（POST）：120.79.172.32:8866/category/update__

> 参数：
>
> categoryName：新的类目名称
>
> categoryId：类目的ID
>
> > 示例
> >
> > ```json
> > {
> > 	"categoryName": "累死了",
> > 	"categoryId": "1111"
> > }
> > ```



__删除（DELETE）：120.79.172.32:8866/category/delete__

> 参数：categoryId



__查找通过id（GET）：120.79.172.32:8866/category/find/id__

> 参数：articleId



__查找通过name（GET）：120.79.172.32:8866/category/find/name__

> 参数：articleName



__查找全部（GET）：120.79.172.32:8866/category/find/all__

>参数：authorId



---



### 文件上传和图片上传



__图片上上传（POST）：120.79.172.32:8866/server/upload/pic__

> 参数：file
>
> 返回结果：
>
> ```json
> // 这是我之前用的editor.md编辑器要求的返回结果
> {
> 	"url"：""，//上传后图片的url用来回显
> 	"success"：1，//成功失败
> 	"message"："上传图片失败" //返回的信息
> }
> ```